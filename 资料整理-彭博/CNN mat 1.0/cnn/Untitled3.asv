max1=[0.841272816183704,-0.0548174780629057,-0.653470753437105,-0.653935126360149,-0.661292655303268;0.843213638282180,-0.289817853151077,-0.899054355662862,-1.11613620999079,-0.911980804418541;0.911742401790152,-0.0404410587362409,-0.810177344597843,-0.897507082783203,-0.909968228112370;1.44277589921854,0.363370031875608,-0.304368332439677,-0.722971702784563,-0.484596515645384;1.84354855867952,0.862102722883406,0.239390507223179,0.0998525728565380,0.466971150452760;]
max2=[0.543972139816461,0.0607760319898820,-0.378741142558273,-0.395559707376914,0.0305464120040261;0.165327827532807,-0.485703186693311,-0.762264067790913,-0.674186760538624,-0.356190971988732;-0.0257934698243193,-0.484873944685348,-0.650671069842529,-0.809467389331915,-0.348027826278537;0.322535120753437,-0.389474864714367,-0.405756377030632,-0.404451996235998,0.0836755036841821;0.676511145683717,0.282701551681765,-0.0546133600400623,0.0153619068961550,0.637146042453866;]
max3=[0.267592653611127,-0.186348137264005,-0.225564756217616,-0.516748069758501,-0.173075703930430;0.132092005743100,-0.576278844558350,-0.729894653143452,-0.664404997018313,-0.454566783045736;0.153004551402671,-0.414989826476564,-0.559726994010250,-0.602146837175283,-0.389792418580742;0.393831351808554,-0.166246460315484,-0.431246232165775,-0.386812558817433,-0.0127215092863261;0.559644791819471,0.150977293028622,0.0570584514012050,0.272419036928191,0.652002594517598;]
max4=[-1.62595298938542,-0.857007397701420,-0.707615126099621,-0.617590294311909,-0.841507992817995;-1.15186738975091,-0.205250653601928,0.114766755870489,0.338100191477136,-0.134839812830128;-0.936861581791778,0.305629422629168,0.797463885383975,0.959084207520413,0.539501387457957;-0.874390468633089,0.572818133813323,0.971284923360017,1.40204809231604,0.851967146011939;-0.752984027329217,0.265996219896896,1.07548005340874,1.32053873455548,0.924103020934885;]
max5=[-0.209816537938481,-0.503466674631585,-0.603796170423587,-0.387712971373779,-0.367972310811882;-0.115676114210510,-0.638812466783093,-0.892567215446519,-0.688545600014591,-0.434360002092641;-0.238595291159447,-0.520008736347387,-0.677102317126768,-0.616248067072632,0.111793107856737;0.133734857740402,-0.101171957272332,-0.215967322375750,-0.124324454800797,0.516100013503403;0.806530941763248,0.390788448889117,0.402102356809049,0.665244405510835,1.17628116304983;]
max6=[-2.00290966200238,-0.860626020972673,0.157459684172473,0.883793257028960,1.10440600066154;-1.84121055029193,-0.294533848591874,0.387794024633740,1.11836879043916,1.47004650880671;-1.73350698696094,-0.156587410694555,0.639194700244409,1.32808898673626,1.85252280555219;-2.07995773823470,-0.470861350754341,0.520484452561325,1.29464274715645,1.80023534790052;-2.61193224684703,-0.955725321775167,-0.129736834706517,0.917566284056346,1.44353333534848;]
max7=[0.871199404428625,0.401715387955131,0.228562034167545,0.143895318548834,0.457782400706768;0.573220221036934,0.0202404138195814,-0.277160495972984,-0.395302537985418,-0.219820773988090;0.298860419285081,-0.517429299688607,-0.698983224935064,-0.530999776329990,-0.413502471817109;0.209314665221295,-0.365030165833756,-0.799926706570333,-0.632123133668393,-0.370204014598698;0.560941027850750,-0.304612172557186,-0.432745829559080,-0.337213037096243,-0.112179106823493;]
max8=[0.168234805175698,-0.414832926796240,-0.530474221353218,-0.307641938549494,0.0762405402396576;-0.189433917337987,-0.620705429406153,-0.784868809848676,-0.736225006564660,-0.337648753781095;0.000676701557533285,-0.596549972246649,-0.938874298542933,-0.854710585564220,-0.358152414475554;-0.0251280319770424,-0.487894974684963,-0.712358347510223,-0.386535542841558,0.0950354200978792;0.118348009023850,-0.236747404556575,-0.298397265406014,0.0540058416679337,0.578496434032090;]
min1=[-0.180754542129673,-0.301637175157984,-0.935239708193854,-1.01231049941127,0.0559292425544668;0.250770620208621,0.356176134958272,-0.647943414317940,-1.06383231201110,-0.492734741190805;0.776383259847499,0.449875843974877,-0.327265637983822,-1.08429453648354,-0.848523403224712;1.00797354319235,0.697324808371239,-0.313146520958886,-0.776696219449006,-0.857935020494615;0.826638741180641,0.285700407457331,-0.312594299404913,-0.521555516753669,-0.721330216770194;]
min2=[-0.247235688867316,-0.330522920345405,-0.104702050557099,0.270157027721455,0.226799324565850;-0.355385039588759,0.0586680715812249,0.328062920639652,0.509515543793303,0.363509696155203;-0.265026925948918,0.0940351263320501,0.531982603259271,0.773662735113638,0.390999132901706;-0.270428152530932,-0.0491588061910009,0.478972891632083,0.763679668536672,0.481528272754046;-0.254716685968669,0.0902102999443575,0.478900329038797,0.431472430221051,0.346528390156637;]
min3=[-0.0314325191452812,0.238814820021209,0.00151391702892739,-0.430911199562917,-0.390895775279354;0.182782279116832,0.457913040372643,0.0898333791941207,-0.209215952424668,-0.313775007039125;0.592982136811126,0.598823258299659,0.428435336156318,-0.268295576985826,-0.245135748211710;0.688528942036042,0.860236123155526,0.187719072009660,-0.367598372439807,-0.237346276638860;0.329510677652702,0.605286803956746,0.0939808158071680,-0.221414650974812,-0.409865965174776;]
min4=[0.0119086019655687,0.0321704166114034,0.00560413245008122,0.0101195829116789,-0.0802728140493620;-0.139943574541155,-0.175568910423033,0.0706585138047438,-0.0513615940872116,0.0106179101463516;-0.0946143694155541,0.00211955125637502,-0.0516427565365797,0.188980220674959,0.0535900827065921;-0.203591745483928,0.0827107703254730,0.0442545588631244,0.196954605364200,-0.0174742830100117;-0.0525189758469617,0.135470516808026,0.213719118759411,0.176016783051279,-0.0493375634916968;]
min5=[-0.107151071950610,-0.0498618510039292,-0.166934983575307,0.122151981094569,0.208586976550891;-0.206672675678742,-0.184955864483609,-0.365527289025667,-0.317153385822907,-0.0307173990658442;-0.293559074961733,-0.445142726396690,-0.527962800203804,-0.580704906293951,-0.267768556395925;-0.315615485583364,-0.468505109029828,-0.789463234125706,-0.533315201940054,-0.269288185846636;-0.333301136539972,-0.641525743903344,-0.738679145904322,-0.431458253354112,-0.0202096138667896;]
min6=[0.0562274952701662,-0.143151614225122,-0.0927589809620841,-0.119912290498445,-0.0181063967656082;0.0568279873216656,-0.133813863096199,-0.00497569538600406,-0.116383250070644,-0.0302507170553806;0.0421973526624362,-0.120992945285266,0.00320440887785727,-0.123557683935073,0.0725563742848157;-0.0324454443441654,0.0531050894635103,-0.159900620736676,0.0690262629891686,0.0852029800751750;-0.0833590781131026,-0.0445188822988373,0.0764290198383513,-0.105212858168907,0.0984727963503798;]
min7=[-0.381123686187328,-0.230229614560583,0.362348825775186,0.891595643135857,1.12477072395855;-0.554471993096538,-0.747232785533580,-0.0128318032899354,0.693362494864946,1.18897291291982;-0.315343370217022,-0.853839885025509,-0.446630728684426,0.578156590809566,0.779220089935130;-0.147218516118085,-0.759288044915709,-0.271121062478868,0.415409987828031,0.771912464587946;-0.0300336183487200,-0.371617346790168,-0.251258001243558,0.212813238774164,0.674473241469612;]
min8=[0.139943685636976,0.380273580898572,0.134495919440611,0.0951878962637629,0.0171311301121009;0.236357720570876,0.331118484248840,0.237324009313361,0.0721412977776633,-0.197542341172196;0.135498639067264,0.00508103147528146,0.380158831767263,-0.0226867398337672,-0.0396996971125012;-0.296759863788055,-0.247919021737147,0.0850239513940780,0.0437312122893233,-0.0794598269256649;-0.345987441240197,-0.363423306557556,-0.113359320824217,-0.0544090424749265,-0.0795559854972711;]
t = imread ('c.png');
gray=rgb2gray(t);
GrayImgRe=imresize(gray,[44,44]);
c=conv2(GrayImgRe,max5);
d=c(5:44,5:44);
[y,ps] = mapminmax(d);
imshow(y);
imwrite(y,'c5.png');

yr=imresize(y,[20,20]);
imwrite(yr,'c15.png');
e=conv2(yr,min5);
f=e(5:20,5:20);
[w,pf] = mapminmax(f);
imshow(w);
imwrite(w,'ch45.png');
